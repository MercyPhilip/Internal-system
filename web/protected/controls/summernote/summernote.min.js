/*! Summernote v0.8.1 | (c) 2013-2015 Alan Hong and other contributors | MIT license */
(function(k){"function"===typeof define&&define.amd?define(["jquery"],k):"object"===typeof module&&module.exports?module.exports=k(require("jquery")):k(window.jQuery)})(function(k){var p=function(){var a=0;return{eq:function(a){return function(b){return a===b}},eq2:function(a,b){return a===b},peq2:function(a){return function(b,d){return b[a]===d[a]}},ok:function(){return!0},fail:function(){return!1},self:function(a){return a},not:function(a){return function(){return!a.apply(a,arguments)}},and:function(a,
b){return function(d){return a(d)&&b(d)}},invoke:function(a,b){return function(){return a[b].apply(a,arguments)}},uniqueId:function(e){var b=++a+"";return e?e+b:b},rect2bnd:function(a){var b=k(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}},invertObject:function(a){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[a[d]]=d);return b},namespaceToCamel:function(a,b){return(b||"")+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+
a.substring(1)}).join("")}}}(),l=function(){var a=function(a){return a[a.length-1]},e=function(a){return a.slice(1)},b=function(a,c){return-1!==k.inArray(c,a)};return{head:function(a){return a[0]},last:a,initial:function(a){return a.slice(0,a.length-1)},tail:e,prev:function(a,c){var b=k.inArray(c,a);return-1===b?null:a[b-1]},next:function(a,c){var b=k.inArray(c,a);return-1===b?null:a[b+1]},find:function(a,c){for(var b=0,f=a.length;b<f;b++){var e=a[b];if(c(e))return e}},contains:b,all:function(a,b){for(var h=
0,f=a.length;h<f;h++)if(!b(a[h]))return!1;return!0},sum:function(a,b){b=b||p.self;return a.reduce(function(a,f){return a+b(f)},0)},from:function(a){for(var b=[],h=-1,f=a.length;++h<f;)b[h]=a[h];return b},isEmpty:function(a){return!a||!a.length},clusterBy:function(b,c){return b.length?e(b).reduce(function(b,f){var d=a(b);c(a(d),f)?d[d.length]=f:b[b.length]=[f];return b},[[b[0]]]):[]},compact:function(a){for(var b=[],h=0,f=a.length;h<f;h++)a[h]&&b.push(a[h]);return b},unique:function(a){for(var c=[],
h=0,f=a.length;h<f;h++)b(c,a[h])||c.push(a[h]);return c}}}(),G="function"===typeof define&&define.amd,x=navigator.userAgent,B=/MSIE|Trident/i.test(x),D;if(B){var y=/MSIE (\d+[.]\d+)/.exec(x);y&&(D=parseFloat(y[1]));(y=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(x))&&(D=parseFloat(y[1]))}var y=/Edge\/\d+/.test(x),A=!!window.CodeMirror;if(!A&&G&&require)if(require.hasOwnProperty("resolve"))try{require.resolve("codemirror"),A=!0}catch(a){A=!1}else require.hasOwnProperty("specified")&&(A=require.specified("codemirror"));
var t={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:B,isEdge:y,isFF:!y&&/firefox/i.test(x),isPhantom:/PhantomJS/i.test(x),isWebkit:!y&&/webkit/i.test(x),isChrome:!y&&/chrome/i.test(x),isSafari:!y&&/safari/i.test(x),browserVersion:D,jqueryVersion:parseFloat(k.fn.jquery),isSupportAmd:G,hasCodeMirror:A,isFontInstalled:function(a){var e="Comic Sans MS"===a?"Courier New":"Comic Sans MS",b=k("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),
d=b.css("fontFamily",e).width();a=b.css("fontFamily",a+","+e).width();b.remove();return d!==a},isW3CRangeSupport:!!document.createRange},U=String.fromCharCode(160),g=function(){var a=function(a){return a&&k(a).hasClass("note-editable")},e=function(a){a=a.toUpperCase();return function(b){return b&&b.nodeName.toUpperCase()===a}},b=function(a){return a&&3===a.nodeType},d=function(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(a.nodeName.toUpperCase())},c=function(b){return a(b)?!1:b&&/^DIV|^P|^LI|^H[1-7]/.test(b.nodeName.toUpperCase())},
h=e("PRE"),f=e("LI"),n=e("TABLE"),m=function(a){return!E(a)&&!w(a)&&!K(a)&&!c(a)&&!n(a)&&!Q(a)},w=function(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())},K=e("HR"),L=function(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())},Q=e("BLOCKQUOTE"),E=function(b){return L(b)||Q(b)||a(b)},C=e("A"),F=e("BODY"),q=t.isMSIE&&11>t.browserVersion?"&nbsp;":"<br>",u=function(a){return null===a?0:b(a)?a.nodeValue.length:a.childNodes.length},v=function(a){var c=u(a);return 0===c||!b(a)&&1===c&&a.innerHTML===
q||l.all(a.childNodes,b)&&""===a.innerHTML?!0:!1},P=function(b,c){for(;b;){if(c(b))return b;if(a(b))break;b=b.parentNode}return null},I=function(b,c){c=c||p.fail;var f=[];P(b,function(b){a(b)||f.push(b);return c(b)});return f},V=function(a,b){b=b||p.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c},r=function(a,b){var c=b.nextSibling,f=b.parentNode;c?f.insertBefore(a,c):f.appendChild(a);return a},y=function(a,b){k.each(b,function(b,c){a.appendChild(c)});return a},x=function(a){return 0===
a.offset},z=function(a){return a.offset===u(a.node)},A=function(a){return x(a)||z(a)},D=function(a,b){for(;a&&a!==b;){if(0!==J(a))return!1;a=a.parentNode}return!0},G=function(a,b){for(;a&&a!==b;){if(J(a)!==u(a.parentNode)-1)return!1;a=a.parentNode}return!0},J=function(a){for(var b=0;a=a.previousSibling;)b+=1;return b},B=function(a){return!!(a&&a.childNodes&&a.childNodes.length)},H=function(b,c){var f,d;if(0===b.offset){if(a(b.node))return null;f=b.node.parentNode;d=J(b.node)}else B(b.node)?(f=b.node.childNodes[b.offset-
1],d=u(f)):(f=b.node,d=c?0:b.offset-1);return{node:f,offset:d}},R=function(b,c){var f,d;if(u(b.node)===b.offset){if(a(b.node))return null;f=b.node.parentNode;d=J(b.node)+1}else B(b.node)?(f=b.node.childNodes[b.offset],d=0):(f=b.node,d=c?u(b.node):b.offset+1);return{node:f,offset:d}},M=function(a,b){return a.node===b.node&&a.offset===b.offset},S=function(a,c){var f=c&&c.isSkipPaddingBlankHTML,h=c&&c.isNotSplitEdgePoint;if(A(a)&&(b(a.node)||h)){if(x(a))return a.node;if(z(a))return a.node.nextSibling}if(b(a.node))return a.node.splitText(a.offset);
var e=a.node.childNodes[a.offset],h=r(a.node.cloneNode(!1),a.node);y(h,V(e));f||(f=a.node,d(f)||u(f)||(f.innerHTML=q),d(h)||u(h)||(h.innerHTML=q));return h},N=function(a,b,c){a=I(b.node,p.eq(a));return a.length?1===a.length?S(b,c):a.reduce(function(a,f){a===b.node&&(a=S(b,c));return S({node:f,offset:a?g.position(a):u(f)},c)}):null},O=function(a){return document.createElement(a)},T=function(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){var f=[],d,h;d=0;for(h=
a.childNodes.length;d<h;d++)f.push(a.childNodes[d]);d=0;for(h=f.length;d<h;d++)c.insertBefore(f[d],a)}c.removeChild(a)}},W=e("TEXTAREA"),X=function(a,b){var c=W(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c};return{NBSP_CHAR:U,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:q,emptyPara:"<p>"+q+"</p>",makePredByNodeName:e,isEditable:a,isControlSizing:function(a){return a&&k(a).hasClass("note-control-sizing")},isText:b,isElement:function(a){return a&&1===a.nodeType},isVoid:d,isPara:c,isPurePara:function(a){return c(a)&&
!f(a)},isHeading:function(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())},isInline:m,isBlock:p.not(m),isBodyInline:function(a){return m(a)&&!P(a,c)},isBody:F,isParaInline:function(a){return m(a)&&!!P(a,c)},isPre:h,isList:w,isTable:n,isCell:L,isBlockquote:Q,isBodyContainer:E,isAnchor:C,isDiv:e("DIV"),isLi:f,isBR:e("BR"),isSpan:e("SPAN"),isB:e("B"),isU:e("U"),isS:e("S"),isI:e("I"),isImg:e("IMG"),isTextarea:W,isEmpty:v,isEmptyAnchor:p.and(C,v),isClosestSibling:function(a,b){return a.nextSibling===
b||a.previousSibling===b},withClosestSiblings:function(a,b){b=b||p.ok;var c=[];a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling);c.push(a);a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling);return c},nodeLength:u,isLeftEdgePoint:x,isRightEdgePoint:z,isEdgePoint:A,isLeftEdgeOf:D,isRightEdgeOf:G,isLeftEdgePointOf:function(a,b){return x(a)&&D(a.node,b)},isRightEdgePointOf:function(a,b){return z(a)&&G(a.node,b)},prevPoint:H,nextPoint:R,isSamePoint:M,isVisiblePoint:function(a){if(b(a.node)||
!B(a.node)||v(a.node))return!0;var c=a.node.childNodes[a.offset-1];a=a.node.childNodes[a.offset];return c&&!d(c)||a&&!d(a)?!1:!0},prevPointUntil:function(a,b){for(;a;){if(b(a))return a;a=H(a)}return null},nextPointUntil:function(a,b){for(;a;){if(b(a))return a;a=R(a)}return null},isCharPoint:function(a){return b(a.node)?(a=a.node.nodeValue.charAt(a.offset-1))&&" "!==a&&a!==U:!1},walkPoint:function(a,b,c,f){for(var d=a;d;){c(d);if(M(d,b))break;d=R(d,f&&a.node!==d.node&&b.node!==d.node)}},ancestor:P,
singleChildAncestor:function(b,c){for(b=b.parentNode;b&&1===u(b);){if(c(b))return b;if(a(b))break;b=b.parentNode}return null},listAncestor:I,lastAncestor:function(a,b){var c=I(a);return l.last(c.filter(b))},listNext:V,listPrev:function(a,b){b=b||p.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c},listDescendant:function(a,b){var c=[];b=b||p.ok;(function Y(f){a!==f&&b(f)&&c.push(f);for(var d=0,h=f.childNodes.length;d<h;d++)Y(f.childNodes[d])})(a);return c},commonAncestor:function(a,
b){for(var c=I(a),f=b;f;f=f.parentNode)if(-1<k.inArray(f,c))return f;return null},wrap:function(a,b){var c=a.parentNode,f=k("<"+b+">")[0];c.insertBefore(f,a);f.appendChild(a);return f},insertAfter:r,appendChildNodes:y,position:J,hasChildren:B,makeOffsetPath:function(a,b){return I(b,p.eq(a)).map(J).reverse()},fromOffsetPath:function(a,b){for(var c=a,f=0,d=b.length;f<d;f++)c=c.childNodes.length<=b[f]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[f]];return c},splitTree:N,splitPoint:function(a,
b){var f=b?c:E,d=I(a.node,f),h=l.last(d)||a.node;f(h)?f=d[d.length-2]:(f=h,h=f.parentNode);(f=f&&N(f,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b}))||h!==a.node||(f=a.node.childNodes[a.offset]);return{rightNode:f,container:h}},create:O,createText:function(a){return document.createTextNode(a)},remove:T,removeWhile:function(b,c){for(;b&&!a(b)&&c(b);){var f=b.parentNode;T(b);b=f}},replace:function(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=O(b);a.style.cssText&&(c.style.cssText=
a.style.cssText);y(c,l.from(a.childNodes));r(c,a);T(a);return c},html:function(a,b){var c=X(a);b&&(c=c.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(a,b,c){c=c.toUpperCase();b=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b;c=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(b||c?"\n":"")}),c=k.trim(c));return c},value:X,posFromPlaceholder:function(a){var b=k(a);a=b.offset();b=b.outerHeight(!0);return{left:a.left,top:a.top+b}},attachEvents:function(a,b){Object.keys(b).forEach(function(c){a.on(c,
b[c])})},detachEvents:function(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})}}}(),Z=function(a,e){var b=this,d=k.summernote.ui;this.memos={};this.modules={};this.layoutInfo={};this.options=e;this.initialize=function(){this.layoutInfo=d.createLayout(a,e);this._initialize();a.hide();return this};this.destroy=function(){this._destroy();a.removeData("summernote");d.removeLayout(a,this.layoutInfo)};this.reset=function(){var a=b.isDisabled();this.code(g.emptyPara);this._destroy();this._initialize();
a&&b.disable()};this._initialize=function(){var a=k.extend({},this.options.buttons);Object.keys(a).forEach(function(f){b.memo("button."+f,a[f])});var d=k.extend({},this.options.modules,k.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)});Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})};this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(a){b.removeModule(a)});Object.keys(this.memos).forEach(function(a){b.removeMemo(a)})};
this.code=function(b){var d=this.invoke("codeview.isActivated");if(void 0===b)return this.invoke("codeview.sync"),d?this.layoutInfo.codable.val():this.layoutInfo.editable.html();d?this.layoutInfo.codable.val(b):this.layoutInfo.editable.html(b);a.val(b);this.triggerEvent("change",b)};this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")};this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0);this.invoke("toolbar.activate",!0)};this.disable=
function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate");this.layoutInfo.editable.attr("contenteditable",!1);this.invoke("toolbar.deactivate",!0)};this.triggerEvent=function(){var b=l.head(arguments),d=l.tail(l.from(arguments)),f=this.options.callbacks[p.namespaceToCamel(b,"on")];f&&f.apply(a[0],d);a.trigger("summernote."+b,d)};this.initializeModule=function(b){b=this.modules[b];b.shouldInitialize=b.shouldInitialize||p.ok;b.shouldInitialize()&&(b.initialize&&b.initialize(),
b.events&&g.attachEvents(a,b.events))};this.module=function(a,b,f){if(1===arguments.length)return this.modules[a];this.modules[a]=new b(this);f||this.initializeModule(a)};this.removeModule=function(b){var d=this.modules[b];d.shouldInitialize()&&(d.events&&g.detachEvents(a,d.events),d.destroy&&d.destroy());delete this.modules[b]};this.memo=function(a,b){if(1===arguments.length)return this.memos[a];this.memos[a]=b};this.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy();
delete this.memos[a]};this.createInvokeHandler=function(a,d){return function(f){f.preventDefault();b.invoke(a,d||k(f.target).closest("[data-value]").data("value"))}};this.invoke=function(){var a=l.head(arguments),b=l.tail(l.from(arguments)),f=a.split("."),d=1<f.length,a=d&&l.head(f),f=d?l.last(f):l.head(f),d=this.modules[a||"editor"];if(!a&&this[f])return this[f].apply(this,b);if(d&&d[f]&&d.shouldInitialize())return d[f].apply(d,b)};return this.initialize()};k.fn.extend({summernote:function(){var a=
k.type(l.head(arguments)),e="string"===a,b="object"===a?l.head(arguments):{},b=k.extend({},k.summernote.options,b);b.langInfo=k.extend(!0,{},k.summernote.lang["en-US"],k.summernote.lang[b.lang]);this.each(function(a,c){var h=k(c);if(!h.data("summernote")){var f=new Z(h,b);h.data("summernote",f);h.data("summernote").triggerEvent("init",f.layoutInfo)}});a=this.first();if(a.length){a=a.data("summernote");if(e)return a.invoke.apply(a,l.from(arguments));b.focus&&a.invoke("editor.focus")}return this}});
var aa=function(a,e,b,d){this.render=function(c){var h=k(a);b&&b.contents&&h.html(b.contents);b&&b.className&&h.addClass(b.className);b&&b.data&&k.each(b.data,function(a,b){h.attr("data-"+a,b)});if(b&&b.click)h.on("click",b.click);if(e){var f=h.find(".note-children-container");e.forEach(function(a){a.render(f.length?f:h)})}d&&d(h,b);b&&b.callback&&b.callback(h);c&&c.append(h);return h}},r={create:function(a,e){return function(b,d){var c=k.isArray(b)?b:[],h="object"===typeof d?d:b;h&&h.children&&(c=
h.children);return new aa(a,c,h,e)}}},G=r.create('<div class="note-editor note-frame panel panel-default"/>'),x=r.create('<div class="note-toolbar panel-heading"/>'),B=r.create('<div class="note-editing-area"/>');D=r.create('<textarea class="note-codable"/>');var y=r.create('<div class="note-editable panel-body" contentEditable="true"/>'),A=r.create('<div class="note-statusbar">  <div class="note-resizebar">    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>  </div></div>'),
ba=r.create('<div class="note-editor"/>'),ca=r.create('<div class="note-editable" contentEditable="true"/>'),da=r.create('<div class="note-btn-group btn-group">'),ea=r.create('<button type="button" class="note-btn btn btn-default btn-sm">',function(a,e){e&&e.tooltip&&a.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),fa=r.create('<div class="dropdown-menu">',function(a,e){var b=k.isArray(e.items)?e.items.map(function(a){var b="string"===typeof a?a:a.value||
"";a=e.template?e.template(a):a;return'<li><a href="#" data-value="'+b+'">'+a+"</a></li>"}).join(""):e.items;a.html(b)}),ga=r.create('<div class="dropdown-menu note-check">',function(a,e){var b=k.isArray(e.items)?e.items.map(function(a){var b="string"===typeof a?a:a.value||"";a=e.template?e.template(a):a;return'<li><a href="#" data-value="'+b+'">'+M(e.checkClassName)+" "+a+"</a></li>"}).join(""):e.items;a.html(b)}),ha=r.create('<div class="note-color-palette"/>',function(a,e){for(var b=[],d=0,c=e.colors.length;d<
c;d++){for(var h=e.eventName,f=e.colors[d],g=[],m=0,w=f.length;m<w;m++){var k=f[m];g.push(['<button type="button" class="note-color-btn"style="background-color:',k,'" data-event="',h,'" data-value="',k,'" title="',k,'" data-toggle="button" tabindex="-1"></button>'].join(""))}b.push('<div class="note-color-row">'+g.join("")+"</div>")}a.html(b.join(""));a.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),ia=r.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',
function(a,e){e.fade&&a.addClass("fade");a.html(['<div class="modal-dialog">  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div></div>"].join(""))}),r=r.create('<div class="note-popover popover in">  <div class="arrow"/>  <div class="popover-content note-children-container"/></div>',
function(a,e){a.addClass("undefined"!==typeof e.direction?e.direction:"bottom");e.hideArrow&&a.find(".arrow").hide()}),M=function(a,e){return"<"+(e||"i")+' class="'+a+'"/>'},z={editor:G,toolbar:x,editingArea:B,codable:D,editable:y,statusbar:A,airEditor:ba,airEditable:ca,buttonGroup:da,button:ea,dropdown:fa,dropdownCheck:ga,palette:ha,dialog:ia,popover:r,icon:M,toggleBtn:function(a,e){a.toggleClass("disabled",!e);a.attr("disabled",!e)},toggleBtnActive:function(a,e){a.toggleClass("active",e)},onDialogShown:function(a,
e){a.one("shown.bs.modal",e)},onDialogHidden:function(a,e){a.one("hidden.bs.modal",e)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,e){var b=(e.airMode?z.airEditor([z.editingArea([z.airEditable()])]):z.editor([z.toolbar(),z.editingArea([z.codable(),z.editable()]),z.statusbar()])).render();b.insertAfter(a);return{note:a,editor:b,toolbar:b.find(".note-toolbar"),editingArea:b.find(".note-editing-area"),editable:b.find(".note-editable"),codable:b.find(".note-codable"),
statusbar:b.find(".note-statusbar")}},removeLayout:function(a,e){a.html(e.editable.html());e.editor.remove();a.show()}};k.summernote=k.summernote||{lang:{}};k.extend(k.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",
resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",
url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",
ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",
textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",
justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",
insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var v=function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return l.contains([a.BACKSPACE,
a.TAB,a.ENTER,a.SPACE],e)},isMove:function(e){return l.contains([a.LEFT,a.UP,a.RIGHT,a.DOWN],e)},nameFromCode:p.invertObject(a),code:a}}(),q=function(){var a=function(a,b){var h=a.parentElement(),f,e=document.body.createTextRange(),m,w=l.from(h.childNodes);for(f=0;f<w.length;f++)if(!g.isText(w[f])){e.moveToElementText(w[f]);if(0<=e.compareEndPoints("StartToStart",a))break;m=w[f]}if(0!==f&&g.isText(w[f-1])){f=document.body.createTextRange();f.moveToElementText(m||h);f.collapse(!m);h=m?m.nextSibling:
h.firstChild;m=a.duplicate();m.setEndPoint("StartToStart",f);for(m=m.text.replace(/[\r\n]/g,"").length;m>h.nodeValue.length&&h.nextSibling;)m-=h.nodeValue.length,h=h.nextSibling;b&&h.nextSibling&&g.isText(h.nextSibling)&&m===h.nodeValue.length&&(m-=h.nodeValue.length,h=h.nextSibling);f=m}return{cont:h,offset:f}},e=function(a){var b=function(a,d){var e,h;if(g.isText(a)){h=g.listPrev(a,p.not(g.isText));var k=l.last(h).previousSibling;e=k||a.parentNode;d+=l.sum(l.tail(h),g.nodeLength);h=!k}else{e=a.childNodes[d]||
a;if(g.isText(e))return b(e,0);d=0;h=!1}return{node:e,collapseToStart:h,offset:d}},e=document.body.createTextRange();a=b(a.node,a.offset);e.moveToElementText(a.node);e.collapse(a.collapseToStart);e.moveStart("character",a.offset);return e},b=function(a,c,h,f){this.sc=a;this.so=c;this.ec=h;this.eo=f;var n=function(){if(t.isW3CRangeSupport){var b=document.createRange();b.setStart(a,c);b.setEnd(h,f);return b}b=e({node:a,offset:c});b.setEndPoint("EndToEnd",e({node:h,offset:f}));return b};this.getPoints=
function(){return{sc:a,so:c,ec:h,eo:f}};this.getStartPoint=function(){return{node:a,offset:c}};this.getEndPoint=function(){return{node:h,offset:f}};this.select=function(){var a=n();if(t.isW3CRangeSupport){var b=document.getSelection();0<b.rangeCount&&b.removeAllRanges();b.addRange(a)}else a.select();return this};this.scrollIntoView=function(a){var b=k(a).height();a.scrollTop+b<this.sc.offsetTop&&(a.scrollTop+=Math.abs(a.scrollTop+b-this.sc.offsetTop));return this};this.normalize=function(){var a=
function(a,b){if(g.isVisiblePoint(a)&&!g.isEdgePoint(a)||g.isVisiblePoint(a)&&g.isRightEdgePoint(a)&&!b||g.isVisiblePoint(a)&&g.isLeftEdgePoint(a)&&b||g.isVisiblePoint(a)&&g.isBlock(a.node)&&g.isEmpty(a.node))return a;var c=g.ancestor(a.node,g.isBlock);if((g.isLeftEdgePointOf(a,c)||g.isVoid(g.prevPoint(a).node))&&!b||(g.isRightEdgePointOf(a,c)||g.isVoid(g.nextPoint(a).node))&&b){if(g.isVisiblePoint(a))return a;b=!b}return(b?g.nextPointUntil(g.nextPoint(a),g.isVisiblePoint):g.prevPointUntil(g.prevPoint(a),
g.isVisiblePoint))||a},c=a(this.getEndPoint(),!1),a=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(a.node,a.offset,c.node,c.offset)};this.nodes=function(a,b){a=a||p.ok;var c=b&&b.includeAncestor,f=b&&b.fullyContains,d=this.getStartPoint(),e=this.getEndPoint(),h=[],m=[];g.walkPoint(d,e,function(b){if(!g.isEditable(b.node)){var d;f?(g.isLeftEdgePoint(b)&&m.push(b.node),g.isRightEdgePoint(b)&&l.contains(m,b.node)&&(d=b.node)):d=c?g.ancestor(b.node,a):b.node;d&&a(d)&&h.push(d)}},!0);return l.unique(h)};
this.commonAncestor=function(){return g.commonAncestor(a,h)};this.expand=function(e){var m=g.ancestor(a,e);e=g.ancestor(h,e);if(!m&&!e)return new b(a,c,h,f);var n=this.getPoints();m&&(n.sc=m,n.so=0);e&&(n.ec=e,n.eo=g.nodeLength(e));return new b(n.sc,n.so,n.ec,n.eo)};this.collapse=function(e){return e?new b(a,c,a,c):new b(h,f,h,f)};this.splitText=function(){var e=a===h,m=this.getPoints();g.isText(h)&&!g.isEdgePoint(this.getEndPoint())&&h.splitText(f);g.isText(a)&&!g.isEdgePoint(this.getStartPoint())&&
(m.sc=a.splitText(c),m.so=0,e&&(m.ec=m.sc,m.eo=f-c));return new b(m.sc,m.so,m.ec,m.eo)};this.deleteContents=function(){if(this.isCollapsed())return this;var a=this.splitText(),c=a.nodes(null,{fullyContains:!0}),f=g.prevPointUntil(a.getStartPoint(),function(a){return!l.contains(c,a.node)}),d=[];k.each(c,function(a,b){var c=b.parentNode;f.node!==c&&1===g.nodeLength(c)&&d.push(c);g.remove(b,!1)});k.each(d,function(a,b){g.remove(b,!1)});return(new b(f.node,f.offset,f.node,f.offset)).normalize()};var m=
function(b){return function(){var c=g.ancestor(a,b);return!!c&&c===g.ancestor(h,b)}};this.isOnEditable=m(g.isEditable);this.isOnList=m(g.isList);this.isOnAnchor=m(g.isAnchor);this.isOnCell=m(g.isCell);this.isLeftEdgeOf=function(a){return g.isLeftEdgePoint(this.getStartPoint())?(a=g.ancestor(this.sc,a))&&g.isLeftEdgeOf(this.sc,a):!1};this.isCollapsed=function(){return a===h&&c===f};this.wrapBodyInlineWithPara=function(){if(g.isBodyContainer(a)&&g.isEmpty(a))return a.innerHTML=g.emptyPara,new b(a.firstChild,
0,a.firstChild,0);var c=this.normalize();if(g.isParaInline(a)||g.isPara(a))return c;var f;if(g.isInline(c.sc)){var e=g.listAncestor(c.sc,p.not(g.isInline));f=l.last(e);g.isInline(f)||(f=e[e.length-2]||c.sc.childNodes[c.so])}else f=c.sc.childNodes[0<c.so?c.so-1:0];c=g.listPrev(f,g.isParaInline).reverse();c=c.concat(g.listNext(f.nextSibling,g.isParaInline));c.length&&(f=g.wrap(l.head(c),"p"),g.appendChildNodes(f,l.tail(c)));return this.normalize()};this.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),
b=g.splitPoint(b.getStartPoint(),g.isInline(a));b.rightNode?b.rightNode.parentNode.insertBefore(a,b.rightNode):b.container.appendChild(a);return a};this.pasteHTML=function(a){a=k("<div></div>").html(a)[0];a=l.from(a.childNodes);var b=this.wrapBodyInlineWithPara().deleteContents();return a.reverse().map(function(a){return b.insertNode(a)}).reverse()};this.toString=function(){var a=n();return t.isW3CRangeSupport?a.toString():a.text};this.getWordRange=function(a){var c=this.getEndPoint();if(!g.isCharPoint(c))return this;
var f=g.prevPointUntil(c,function(a){return!g.isCharPoint(a)});a&&(c=g.nextPointUntil(c,function(a){return!g.isCharPoint(a)}));return new b(f.node,f.offset,c.node,c.offset)};this.bookmark=function(b){return{s:{path:g.makeOffsetPath(b,a),offset:c},e:{path:g.makeOffsetPath(b,h),offset:f}}};this.paraBookmark=function(b){return{s:{path:l.tail(g.makeOffsetPath(l.head(b),a)),offset:c},e:{path:l.tail(g.makeOffsetPath(l.last(b),h)),offset:f}}};this.getClientRects=function(){return n().getClientRects()}};
return{create:function(a,c,e,f){if(4===arguments.length)return new b(a,c,e,f);if(2===arguments.length)return new b(a,c,a,c);var n=this.createFromSelection();return n||1!==arguments.length?n:(n=this.createFromNode(arguments[0]),n.collapse(g.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var d,c,e,f;if(t.isW3CRangeSupport){d=document.getSelection();if(!d||0===d.rangeCount||g.isBody(d.anchorNode))return null;f=d.getRangeAt(0);d=f.startContainer;c=f.startOffset;e=f.endContainer;
f=f.endOffset}else c=document.selection.createRange(),d=c.duplicate(),d.collapse(!1),c.collapse(!0),c=a(c,!0),f=a(d,!1),g.isText(c.node)&&g.isLeftEdgePoint(c)&&g.isTextNode(f.node)&&g.isRightEdgePoint(f)&&f.node.nextSibling===c.node&&(c=f),d=c.cont,c=c.offset,e=f.cont,f=f.offset;return new b(d,c,e,f)},createFromNode:function(a){var b=a,e=0,f=g.nodeLength(a);g.isVoid(b)&&(e=g.listPrev(b).length-1,b=b.parentNode);g.isBR(a)?(f=g.listPrev(a).length-1,a=a.parentNode):g.isVoid(a)&&(f=g.listPrev(a).length,
a=a.parentNode);return this.create(b,e,a,f)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,c){var e=g.fromOffsetPath(a,c.s.path),f=c.s.offset,n=g.fromOffsetPath(a,c.e.path);return new b(e,f,n,c.e.offset)},createFromParaBookmark:function(a,c){var e=a.s.offset,f=a.e.offset,n=g.fromOffsetPath(l.head(c),a.s.path),m=g.fromOffsetPath(l.last(c),a.e.path);return new b(n,e,
m,f)}}}(),N=function(){return{readFileAsDataURL:function(a){return k.Deferred(function(e){k.extend(new FileReader,{onload:function(a){e.resolve(a.target.result)},onerror:function(){e.reject(this)}}).readAsDataURL(a)}).promise()},createImage:function(a){return k.Deferred(function(e){var b=k("<img>");b.one("load",function(){b.off("error abort");e.resolve(b)}).one("error abort",function(){b.off("load").detach();e.reject(b)}).css({display:"none"}).appendTo(document.body).attr("src",a)}).promise()}}}(),
ja=function(a){var e=[],b=-1,d=a[0],c=function(){var b=q.create(d),c={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:a.html(),bookmark:b?b.bookmark(d):c}},h=function(b){null!==b.contents&&a.html(b.contents);null!==b.bookmark&&q.createFromBookmark(d,b.bookmark).select()};this.rewind=function(){a.html()!==e[b].contents&&this.recordUndo();b=0;h(e[b])};this.reset=function(){e=[];b=-1;a.html("");this.recordUndo()};this.undo=function(){a.html()!==e[b].contents&&this.recordUndo();0<b&&(b--,h(e[b]))};
this.redo=function(){e.length-1>b&&(b++,h(e[b]))};this.recordUndo=function(){b++;e.length>b&&(e=e.slice(0,b));e.push(c())}},ka=function(){var a=function(a,b){if(1.9>t.jqueryVersion){var d={};k.each(b,function(b,h){d[h]=a.css(h)});return d}return a.css.call(a,b)};this.fromNode=function(e){e=a(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};e["font-size"]=parseInt(e["font-size"],10);return e};this.stylePara=function(a,b){k.each(a.nodes(g.isPara,{includeAncestor:!0}),
function(a,c){k(c).css(b)})};this.styleNodes=function(a,b){a=a.splitText();var d=b&&b.nodeName||"SPAN",c=!(!b||!b.expandClosestSibling),h=!(!b||!b.onlyPartialContains);if(a.isCollapsed())return[a.insertNode(g.create(d))];var f=g.makePredByNodeName(d),n=a.nodes(g.isText,{fullyContains:!0}).map(function(a){return g.singleChildAncestor(a,f)||g.wrap(a,d)});if(c){if(h)var m=a.nodes(),f=p.and(f,function(a){return l.contains(m,a)});return n.map(function(a){a=g.withClosestSiblings(a,f);var b=l.head(a),c=
l.tail(a);k.each(c,function(a,c){g.appendChildNodes(b,c.childNodes);g.remove(c)});return l.head(a)})}return n};this.current=function(a){var b=k(g.isElement(a.sc)?a.sc:a.sc.parentNode),b=this.fromNode(b);try{b=k.extend(b,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal",
"font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(c){}if(a.isOnList()){var d=-1<k.inArray(b["list-style-type"],["circle","disc","disc-leading-zero","square"]);b["list-style"]=d?"unordered":"ordered"}else b["list-style"]="none";(d=g.ancestor(a.sc,g.isPara))&&d.style["line-height"]?b["line-height"]=d.style.lineHeight:(d=parseInt(b["line-height"],10)/parseInt(b["font-size"],
10),b["line-height"]=d.toFixed(1));b.anchor=a.isOnAnchor()&&g.ancestor(a.sc,g.isAnchor);b.ancestors=g.listAncestor(a.sc,g.isEditable);b.range=a;return b}},O=function(){var a=this;this.insertOrderedList=function(a){this.toggleList("OL",a)};this.insertUnorderedList=function(a){this.toggleList("UL",a)};this.indent=function(a){var b=this;a=q.create(a).wrapBodyInlineWithPara();var d=a.nodes(g.isPara,{includeAncestor:!0}),d=l.clusterBy(d,p.peq2("parentNode"));k.each(d,function(a,d){var f=l.head(d);g.isLi(f)?
b.wrapList(d,f.parentNode.nodeName):k.each(d,function(a,b){k(b).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})});a.select()};this.outdent=function(a){var b=this;a=q.create(a).wrapBodyInlineWithPara();var d=a.nodes(g.isPara,{includeAncestor:!0}),d=l.clusterBy(d,p.peq2("parentNode"));k.each(d,function(a,d){var f=l.head(d);g.isLi(f)?b.releaseList([d]):k.each(d,function(a,b){k(b).css("marginLeft",function(a,b){b=parseInt(b,10)||0;return 25<b?b-25:""})})});a.select()};this.toggleList=
function(e,b){var d=q.create(b).wrapBodyInlineWithPara(),c=d.nodes(g.isPara,{includeAncestor:!0}),h=d.paraBookmark(c),f=l.clusterBy(c,p.peq2("parentNode"));if(l.find(c,g.isPurePara)){var n=[];k.each(f,function(b,c){n=n.concat(a.wrapList(c,e))});c=n}else d=d.nodes(g.isList,{includeAncestor:!0}).filter(function(a){return!k.nodeName(a,e)}),d.length?k.each(d,function(a,b){g.replace(b,e)}):c=this.releaseList(f,!0);q.createFromParaBookmark(h,c).select()};this.wrapList=function(a,b){var d=l.head(a),c=l.last(a),
h=g.isList(d.previousSibling)&&d.previousSibling,d=g.isList(c.nextSibling)&&c.nextSibling,c=h||g.insertAfter(g.create(b||"UL"),c);a=a.map(function(a){return g.isPurePara(a)?g.replace(a,"LI"):a});g.appendChildNodes(c,a);d&&(g.appendChildNodes(c,l.from(d.childNodes)),g.remove(d));return a};this.releaseList=function(a,b){var d=[];k.each(a,function(a,e){var f=l.head(e),n=l.last(e),m=b?g.lastAncestor(f,g.isList):f.parentNode,n=1<m.childNodes.length?g.splitTree(m,{node:n.parentNode,offset:g.position(n)+
1},{isSkipPaddingBlankHTML:!0}):null,f=g.splitTree(m,{node:f.parentNode,offset:g.position(f)},{isSkipPaddingBlankHTML:!0});e=b?g.listDescendant(f,g.isLi):l.from(f.childNodes).filter(g.isLi);if(b||!g.isList(m.parentNode))e=e.map(function(a){return g.replace(a,"P")});k.each(l.from(e).reverse(),function(a,b){g.insertAfter(b,m)});f=l.compact([m,f,n]);k.each(f,function(a,b){var c=[b].concat(g.listDescendant(b,g.isList));k.each(c.reverse(),function(a,b){g.nodeLength(b)||g.remove(b,!0)})});d=d.concat(e)});
return d}},la=function(){var a=new O;this.insertTab=function(a,b){var d=g.createText(Array(b+1).join(g.NBSP_CHAR));a=a.deleteContents();a.insertNode(d,!0);a=q.create(d,b);a.select()};this.insertParagraph=function(e){var b=q.create(e),b=b.deleteContents(),b=b.wrapBodyInlineWithPara(),d=g.ancestor(b.sc,g.isPara),c;if(d){if(g.isEmpty(d)&&g.isLi(d)){a.toggleList(d.parentNode.nodeName);return}g.isEmpty(d)&&g.isPara(d)&&g.isBlockquote(d.parentNode)?(g.insertAfter(d,d.parentNode),c=d):(c=g.splitTree(d,b.getStartPoint()),
b=g.listDescendant(d,g.isEmptyAnchor),b=b.concat(g.listDescendant(c,g.isEmptyAnchor)),k.each(b,function(a,b){g.remove(b)}),(g.isHeading(c)||g.isPre(c))&&g.isEmpty(c)&&(c=g.replace(c,"p")))}else d=b.sc.childNodes[b.so],c=k(g.emptyPara)[0],d?b.sc.insertBefore(c,d):b.sc.appendChild(c);q.create(c,0).normalize().select().scrollIntoView(e)}},ma=function(){this.tab=function(a,e){var b=g.ancestor(a.commonAncestor(),g.isCell),d=g.ancestor(b,g.isTable),d=g.listDescendant(d,g.isCell);(b=l[e?"prev":"next"](d,
b))&&q.create(b,0).select()};this.createTable=function(a,e,b){for(var d=[],c=0;c<a;c++)d.push("<td>"+g.blank+"</td>");a=d.join("");d=[];for(c=0;c<e;c++)d.push("<tr>"+a+"</tr>");e=d.join("");e=k("<table>"+e+"</table>");b&&b.tableClassName&&e.addClass(b.tableClassName);return e[0]}},H;t.hasCodeMirror&&(t.isSupportAmd?require(["codemirror"],function(a){H=a}):H=window.CodeMirror);k.summernote=k.extend(k.summernote,{version:"0.8.1",ui:z,plugins:{},options:{modules:{editor:function(a){var e=this,b=a.layoutInfo.note,
d=a.layoutInfo.editor,c=a.layoutInfo.editable,h=a.options,f=h.langInfo,n=c[0],m=null,w=new ka,K=new ma,L=new la,p=new O,E=new ja(c);this.initialize=function(){c.on("keydown",function(b){b.keyCode===v.code.ENTER&&a.triggerEvent("enter",b);a.triggerEvent("keydown",b);h.shortcuts&&!b.isDefaultPrevented()&&e.handleKeyMap(b)}).on("keyup",function(b){a.triggerEvent("keyup",b)}).on("focus",function(b){a.triggerEvent("focus",b)}).on("blur",function(b){a.triggerEvent("blur",b)}).on("mousedown",function(b){a.triggerEvent("mousedown",
b)}).on("mouseup",function(b){a.triggerEvent("mouseup",b)}).on("scroll",function(b){a.triggerEvent("scroll",b)}).on("paste",function(b){a.triggerEvent("paste",b)});c.html(g.html(b)||g.emptyPara);c.on(t.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",function(){a.triggerEvent("change",c.html())});d.on("focusin",function(b){a.triggerEvent("focusin",b)}).on("focusout",function(b){a.triggerEvent("focusout",b)});!h.airMode&&h.height&&this.setHeight(h.height);!h.airMode&&h.maxHeight&&
c.css("max-height",h.maxHeight);!h.airMode&&h.minHeight&&c.css("min-height",h.minHeight);E.recordUndo()};this.destroy=function(){c.off()};this.handleKeyMap=function(b){var c=h.keyMap[t.isMac?"mac":"pc"],f=[];b.metaKey&&f.push("CMD");b.ctrlKey&&!b.altKey&&f.push("CTRL");b.shiftKey&&f.push("SHIFT");var d=v.nameFromCode[b.keyCode];d&&f.push(d);(c=c[f.join("+")])?(b.preventDefault(),a.invoke(c)):v.isEdit(b.keyCode)&&this.afterCommand()};this.createRange=function(){this.focus();return q.create(n)};this.saveRange=
function(a){m=this.createRange();a&&m.collapse().select()};this.restoreRange=function(){m&&(m.select(),this.focus())};this.saveTarget=function(a){c.data("target",a)};this.clearTarget=function(){c.removeData("target")};this.restoreTarget=function(){return c.data("target")};this.currentStyle=function(){var a=q.create();a&&(a=a.normalize());return a?w.current(a):w.fromNode(c)};this.styleFromNode=function(a){return w.fromNode(a)};this.undo=function(){a.triggerEvent("before.command",c.html());E.undo();
a.triggerEvent("change",c.html())};a.memo("help.undo",f.help.undo);this.redo=function(){a.triggerEvent("before.command",c.html());E.redo();a.triggerEvent("change",c.html())};a.memo("help.redo",f.help.redo);for(var C=this.beforeCommand=function(){a.triggerEvent("before.command",c.html());e.focus()},F=this.afterCommand=function(b){E.recordUndo();b||a.triggerEvent("change",c.html())},r="bold italic underline strikethrough superscript subscript justifyLeft justifyCenter justifyRight justifyFull formatBlock removeFormat backColor foreColor fontName".split(" "),
u=0,x=r.length;u<x;u++)this[r[u]]=function(a){return function(b){C();document.execCommand(a,!1,b);F(!0)}}(r[u]),a.memo("help."+r[u],f.help[r[u]]);this.tab=function(){var a=this.createRange();a.isCollapsed()&&a.isOnCell()?K.tab(a):(C(),L.insertTab(a,h.tabSize),F())};a.memo("help.tab",f.help.tab);this.untab=function(){var a=this.createRange();a.isCollapsed()&&a.isOnCell()&&K.tab(a,!0)};a.memo("help.untab",f.help.untab);this.wrapCommand=function(a){return function(){C();a.apply(e,arguments);F()}};this.insertParagraph=
this.wrapCommand(function(){L.insertParagraph(n)});a.memo("help.insertParagraph",f.help.insertParagraph);this.insertOrderedList=this.wrapCommand(function(){p.insertOrderedList(n)});a.memo("help.insertOrderedList",f.help.insertOrderedList);this.insertUnorderedList=this.wrapCommand(function(){p.insertUnorderedList(n)});a.memo("help.insertUnorderedList",f.help.insertUnorderedList);this.indent=this.wrapCommand(function(){p.indent(n)});a.memo("help.indent",f.help.indent);this.outdent=this.wrapCommand(function(){p.outdent(n)});
a.memo("help.outdent",f.help.outdent);this.insertImage=function(b,f){return N.createImage(b,f).then(function(a){C();"function"===typeof f?f(a):("string"===typeof f&&a.attr("data-filename",f),a.css("width",Math.min(c.width(),a.width())));a.show();q.create(n).insertNode(a[0]);q.createFromNodeAfter(a[0]).select();F()}).fail(function(b){a.triggerEvent("image.upload.error",b)})};this.insertImages=function(b){k.each(b,function(b,c){var d=c.name;h.maximumImageFileSize&&h.maximumImageFileSize<c.size?a.triggerEvent("image.upload.error",
f.image.maximumFileSizeError):N.readFileAsDataURL(c).then(function(a){return e.insertImage(a,d)}).fail(function(){a.triggerEvent("image.upload.error")})})};this.insertImagesOrCallback=function(b){h.callbacks.onImageUpload?a.triggerEvent("image.upload",b):this.insertImages(b)};this.insertNode=this.wrapCommand(function(a){this.createRange().insertNode(a);q.createFromNodeAfter(a).select()});this.insertText=this.wrapCommand(function(a){a=this.createRange().insertNode(g.createText(a));q.create(a,g.nodeLength(a)).select()});
this.getSelectedText=function(){var a=this.createRange();a.isOnAnchor()&&(a=q.createFromNode(g.ancestor(a.sc,g.isAnchor)));return a.toString()};this.pasteHTML=this.wrapCommand(function(a){a=this.createRange().pasteHTML(a);q.createFromNodeAfter(l.last(a)).select()});this.formatBlock=this.wrapCommand(function(a){a=t.isMSIE?"<"+a+">":a;document.execCommand("FormatBlock",!1,a)});this.formatPara=function(){this.formatBlock("P")};a.memo("help.formatPara",f.help.formatPara);for(u=1;6>=u;u++)this["formatH"+
u]=function(a){return function(){this.formatBlock("H"+a)}}(u),a.memo("help.formatH"+u,f.help["formatH"+u]);this.fontSize=function(a){var b=this.createRange();if(b&&b.isCollapsed()){var b=w.styleNodes(b),f=l.head(b);k(b).css({"font-size":a+"px"});f&&!g.nodeLength(f)&&(f.innerHTML=g.ZERO_WIDTH_NBSP_CHAR,q.createFromNodeAfter(f.firstChild).select(),c.data("bogus",f))}else C(),k(w.styleNodes(b)).css({"font-size":a+"px"}),F()};this.insertHorizontalRule=this.wrapCommand(function(){var a=this.createRange().insertNode(g.create("HR"));
a.nextSibling&&q.create(a.nextSibling,0).normalize().select()});a.memo("help.insertHorizontalRule",f.help.insertHorizontalRule);this.removeBogus=function(){var a=c.data("bogus");if(a){var b=l.find(l.from(a.childNodes),g.isText),f=b.nodeValue.indexOf(g.ZERO_WIDTH_NBSP_CHAR);-1!==f&&b.deleteData(f,1);g.isEmpty(a)&&g.remove(a);c.removeData("bogus")}};this.lineHeight=this.wrapCommand(function(a){w.stylePara(this.createRange(),{lineHeight:a})});this.unlink=function(){var a=this.createRange();a.isOnAnchor()&&
(a=g.ancestor(a.sc,g.isAnchor),a=q.createFromNode(a),a.select(),C(),document.execCommand("unlink"),F())};this.createLink=this.wrapCommand(function(a){var b=a.url,c=a.text,f=a.isNewWindow,d=a.range||this.createRange(),e=d.toString()!==c;h.onCreateLink&&(b=h.onCreateLink(b));a=[];e?(d=d.deleteContents(),c=d.insertNode(k("<A>"+c+"</A>")[0]),a.push(c)):a=w.styleNodes(d,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});k.each(a,function(a,c){k(c).attr("href",b);f?k(c).attr("target","_blank"):
k(c).removeAttr("target")});c=q.createFromNodeBefore(l.head(a)).getStartPoint();a=q.createFromNodeAfter(l.last(a)).getEndPoint();q.create(c.node,c.offset,a.node,a.offset).select()});this.getLinkInfo=function(){var a=this.createRange().expand(g.isAnchor),b=k(l.head(a.nodes(g.isAnchor)));return{range:a,text:a.toString(),isNewWindow:b.length?"_blank"===b.attr("target"):!1,url:b.length?b.attr("href"):""}};this.color=this.wrapCommand(function(a){var b=a.foreColor;a=a.backColor;b&&document.execCommand("foreColor",
!1,b);a&&document.execCommand("backColor",!1,a)});this.insertTable=this.wrapCommand(function(a){a=a.split("x");this.createRange().deleteContents().insertNode(K.createTable(a[0],a[1],h))});this.floatMe=this.wrapCommand(function(a){k(this.restoreTarget()).css("float",a)});this.resize=this.wrapCommand(function(a){k(this.restoreTarget()).css({width:100*a+"%",height:""})});this.resizeTo=function(a,b,c){if(c){c=a.y/a.x;var f=b.data("ratio");a={width:f>c?a.x:a.y/f,height:f>c?a.x*f:a.y}}else a={width:a.x,
height:a.y};b.css(a)};this.removeMedia=this.wrapCommand(function(){var b=k(this.restoreTarget()).detach();a.triggerEvent("media.delete",b,c)});this.hasFocus=function(){return c.is(":focus")};this.focus=function(){this.hasFocus()||c.focus()};this.isEmpty=function(){return g.isEmpty(c[0])||g.emptyPara===c.html()};this.empty=function(){a.invoke("code",g.emptyPara)};this.setHeight=function(a){c.outerHeight(a)}},clipboard:function(a){var e=this,b=a.layoutInfo.editable;this.events={"summernote.keydown":function(b,
c){e.needKeydownHook()&&(c.ctrlKey||c.metaKey)&&c.keyCode===v.code.V&&(a.invoke("editor.saveRange"),e.$paste.focus(),setTimeout(function(){e.pasteByHook()},0))}};this.needKeydownHook=function(){return t.isMSIE&&10<t.browserVersion||t.isFF};this.initialize=function(){if(this.needKeydownHook())this.$paste=k("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1E5,opacity:0}),b.before(this.$paste),this.$paste.on("paste",function(b){a.triggerEvent("paste",b)});else b.on("paste",this.pasteByEvent)};
this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)};this.pasteByHook=function(){var b=this.$paste[0].firstChild;if(g.isImg(b)){for(var b=atob(b.src.split(",")[1]),c=new Uint8Array(b.length),e=0;e<b.length;e++)c[e]=b.charCodeAt(e);b=new Blob([c],{type:"image/png"});b.name="clipboard.png";a.invoke("editor.restoreRange");a.invoke("editor.focus");a.invoke("editor.insertImagesOrCallback",[b])}else b=k("<div />").html(this.$paste.html()).html(),a.invoke("editor.restoreRange"),
a.invoke("editor.focus"),b&&a.invoke("editor.pasteHTML",b);this.$paste.empty()};this.pasteByEvent=function(b){(b=b.originalEvent.clipboardData)&&b.items&&b.items.length&&(b=l.head(b.items),"file"===b.kind&&-1!==b.type.indexOf("image/")&&a.invoke("editor.insertImagesOrCallback",[b.getAsFile()]),a.invoke("editor.afterCommand"))}},dropzone:function(a){var e=k(document),b=a.layoutInfo.editor,d=a.layoutInfo.editable,c=a.options,h=c.langInfo,f=k('<div class="note-dropzone">  <div class="note-dropzone-message"/></div>').prependTo(b);
this.initialize=function(){if(c.disableDragAndDrop)e.on("drop",function(a){a.preventDefault()});else this.attachDragAndDropEvent()};this.attachDragAndDropEvent=function(){var c=k(),g=f.find(".note-dropzone-message");e.on("dragenter",function(d){var e=a.invoke("codeview.isActivated"),k=0<b.width()&&0<b.height();e||c.length||!k||(b.addClass("dragover"),f.width(b.width()),f.height(b.height()),g.text(h.image.dragImageHere));c=c.add(d.target)}).on("dragleave",function(a){c=c.not(a.target);c.length||b.removeClass("dragover")}).on("drop",
function(){c=k();b.removeClass("dragover")});f.on("dragenter",function(){f.addClass("hover");g.text(h.image.dropImage)}).on("dragleave",function(){f.removeClass("hover");g.text(h.image.dragImageHere)});f.on("drop",function(b){var c=b.originalEvent.dataTransfer;c&&c.files&&c.files.length?(b.preventDefault(),d.focus(),a.invoke("editor.insertImagesOrCallback",c.files)):k.each(c.types,function(b,f){var d=c.getData(f);-1<f.toLowerCase().indexOf("text")?a.invoke("editor.pasteHTML",d):k(d).each(function(){a.invoke("editor.insertNode",
this)})})}).on("dragover",!1)}},codeview:function(a){var e=a.layoutInfo.editor,b=a.layoutInfo.editable,d=a.layoutInfo.codable,c=a.options;this.sync=function(){this.isActivated()&&t.hasCodeMirror&&d.data("cmEditor").save()};this.isActivated=function(){return e.hasClass("codeview")};this.toggle=function(){this.isActivated()?this.deactivate():this.activate();a.triggerEvent("codeview.toggled")};this.activate=function(){d.val(g.html(b,c.prettifyHtml));d.height(b.height());a.invoke("toolbar.updateCodeview",
!0);e.addClass("codeview");d.focus();if(t.hasCodeMirror){var h=H.fromTextArea(d[0],c.codemirror);if(c.codemirror.tern){var f=new H.TernServer(c.codemirror.tern);h.ternServer=f;h.on("cursorActivity",function(a){f.updateArgHints(a)})}h.setSize(null,b.outerHeight());d.data("cmEditor",h)}};this.deactivate=function(){if(t.hasCodeMirror){var h=d.data("cmEditor");d.val(h.getValue());h.toTextArea()}var h=g.value(d,c.prettifyHtml)||g.emptyPara,f=b.html()!==h;b.html(h);b.height(c.height?d.height():"auto");
e.removeClass("codeview");f&&a.triggerEvent("change",b.html(),b);b.focus();a.invoke("toolbar.updateCodeview",!1)};this.destroy=function(){this.isActivated()&&this.deactivate()}},statusbar:function(a){var e=k(document),b=a.layoutInfo.statusbar,d=a.layoutInfo.editable,c=a.options;this.initialize=function(){if(!c.airMode&&!c.disableResizeEditor)b.on("mousedown",function(a){a.preventDefault();a.stopPropagation();var b=d.offset().top-e.scrollTop();e.on("mousemove",function(a){a=a.clientY-(b+24);a=0<c.minheight?
Math.max(a,c.minheight):a;a=0<c.maxHeight?Math.min(a,c.maxHeight):a;d.height(a)}).one("mouseup",function(){e.off("mousemove")})})};this.destroy=function(){b.off()}},fullscreen:function(a){var e=a.layoutInfo.editor,b=a.layoutInfo.toolbar,d=a.layoutInfo.editable,c=a.layoutInfo.codable,h=k(window),f=k("html, body");this.toggle=function(){var g=function(a){d.css("height",a.h);c.css("height",a.h);c.data("cmeditor")&&c.data("cmeditor").setsize(null,a.h)};e.toggleClass("fullscreen");this.isFullscreen()?
(d.data("orgHeight",d.css("height")),h.on("resize",function(){g({h:h.height()-b.outerHeight()})}).trigger("resize"),f.css("overflow","hidden")):(h.off("resize"),g({h:d.data("orgHeight")}),f.css("overflow","visible"));a.invoke("toolbar.updateFullscreen",this.isFullscreen())};this.isFullscreen=function(){return e.hasClass("fullscreen")}},handle:function(a){var e=this,b=k(document),d=a.layoutInfo.editingArea,c=a.options;this.events={"summernote.mousedown":function(a,b){e.update(b.target)&&b.preventDefault()},
"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){e.update()}};this.initialize=function(){this.$handle=k(['<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="',c.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',
c.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div></div>"].join("")).prependTo(d);this.$handle.on("mousedown",function(c){if(g.isControlSizing(c.target)){c.preventDefault();c.stopPropagation();var f=e.$handle.find(".note-control-selection").data("target"),d=f.offset(),m=b.scrollTop();b.on("mousemove",function(b){a.invoke("editor.resizeTo",{x:b.clientX-d.left,y:b.clientY-(d.top-m)},f,!b.shiftKey);e.update(f[0])}).one("mouseup",function(c){c.preventDefault();b.off("mousemove");
a.invoke("editor.afterCommand")});f.data("ratio")||f.data("ratio",f.height()/f.width())}})};this.destroy=function(){this.$handle.remove()};this.update=function(b){var c=g.isImg(b),d=this.$handle.find(".note-control-selection");a.invoke("imagePopover.update",b);if(c){var e=k(b),w=e.position(),l=e.outerWidth(!0),p=e.outerHeight(!0);d.css({display:"block",left:w.left,top:w.top,width:l,height:p}).data("target",e);e=l+"x"+p;d.find(".note-control-selection-info").text(e);a.invoke("editor.saveTarget",b)}else this.hide();
return c};this.hide=function(){a.invoke("editor.clearTarget");this.$handle.children().hide()}},hintPopover:function(a){var e=this,b=k.summernote.ui,d=a.options.hint||[],c=a.options.hintDirection||"bottom",h=k.isArray(d)?d:[d];this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||e.handleKeyup(b)},"summernote.keydown":function(a,b){e.handleKeydown(b)},"summernote.dialog.shown":function(){e.hide()}};this.shouldInitialize=function(){return 0<h.length};this.initialize=function(){this.lastWordRange=
null;this.$popover=b.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body");this.$popover.hide();this.$content=this.$popover.find(".popover-content");this.$content.on("click",".note-hint-item",function(){e.$content.find(".active").removeClass("active");k(this).addClass("active");e.replace()})};this.destroy=function(){this.$popover.remove()};this.selectItem=function(a){this.$content.find(".active").removeClass("active");a.addClass("active");this.$content[0].scrollTop=
a[0].offsetTop-this.$content.innerHeight()/2};this.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();b.length?this.selectItem(b):(a=a.parent().next(),a.length||(a=this.$content.find(".note-hint-group").first()),this.selectItem(a.find(".note-hint-item").first()))};this.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();b.length?this.selectItem(b):(a=a.parent().prev(),a.length||(a=this.$content.find(".note-hint-group").last()),this.selectItem(a.find(".note-hint-item").last()))};
this.replace=function(){var b=this.$content.find(".note-hint-item.active");b.length&&(b=this.nodeFromItem(b),this.lastWordRange.insertNode(b),q.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),a.invoke("editor.focus"))};this.nodeFromItem=function(a){var b=h[a.data("index")];a=a.data("item");b=b.content?b.content(a):a;"string"===typeof b&&(b=g.createText(b));return b};this.createItemTemplates=function(a,b){var c=h[a];return b.map(function(b,d){var e=k('<div class="note-hint-item"/>');
e.append(c.template?c.template(b):b+"");e.data({index:a,item:b});0===a&&0===d&&e.addClass("active");return e})};this.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===v.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===v.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===v.code.DOWN&&(a.preventDefault(),this.moveDown()))};this.searchKeyword=function(a,b,c){(a=h[a])&&a.match.test(b)&&a.search?(b=a.match.exec(b),a.search(b[1],c)):c()};this.createGroup=function(a,b){var c=
k('<div class="note-hint-group note-hint-group-'+a+'"/>');this.searchKeyword(a,b,function(b){b=b||[];b.length&&(c.html(e.createItemTemplates(a,b)),e.show())});return c};this.handleKeyup=function(b){if(l.contains([v.code.ENTER,v.code.UP,v.code.DOWN],b.keyCode))b.keyCode===v.code.ENTER&&this.$popover.is(":visible");else{b=a.invoke("editor.createRange").getWordRange();var d=b.toString();if(h.length&&d){this.$content.empty();var g=p.rect2bnd(l.last(b.getClientRects()));g&&(this.$popover.hide(),this.lastWordRange=
b,h.forEach(function(a,b){a.match.test(d)&&e.createGroup(b,d).appendTo(e.$content)}),"top"===c?this.$popover.css({left:g.left,top:g.top-this.$popover.outerHeight()-5}):this.$popover.css({left:g.left,top:g.top+g.height+5}))}else this.hide()}};this.show=function(){this.$popover.show()};this.hide=function(){this.$popover.hide()}},autoLink:function(a){var e=this,b=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||
e.handleKeyup(b)},"summernote.keydown":function(a,b){e.handleKeydown(b)}};this.initialize=function(){this.lastWordRange=null};this.destroy=function(){this.lastWordRange=null};this.replace=function(){if(this.lastWordRange){var d=this.lastWordRange.toString(),c=d.match(b);c&&(c[1]||c[2])&&(c=c[1]?d:"http://"+d,d=k("<a />").html(d).attr("href",c)[0],this.lastWordRange.insertNode(d),this.lastWordRange=null,a.invoke("editor.focus"))}};this.handleKeydown=function(b){l.contains([v.code.ENTER,v.code.SPACE],
b.keyCode)&&(this.lastWordRange=a.invoke("editor.createRange").getWordRange())};this.handleKeyup=function(a){l.contains([v.code.ENTER,v.code.SPACE],a.keyCode)&&this.replace()}},autoSync:function(a){var e=a.layoutInfo.note;this.events={"summernote.change":function(){e.val(a.invoke("code"))}};this.shouldInitialize=function(){return g.isTextarea(e[0])}},placeholder:function(a){var e=this,b=a.layoutInfo.editingArea,d=a.options;this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}};
this.shouldInitialize=function(){return!!d.placeholder};this.initialize=function(){this.$placeholder=k('<div class="note-placeholder">');this.$placeholder.on("click",function(){a.invoke("focus")}).text(d.placeholder).prependTo(b)};this.destroy=function(){this.$placeholder.remove()};this.update=function(){var b=!a.invoke("codeview.isActivated")&&a.invoke("editor.isEmpty");this.$placeholder.toggle(b)}},buttons:function(a){var e=this,b=k.summernote.ui,d=a.layoutInfo.toolbar,c=a.options,h=c.langInfo,
f=p.invertObject(c.keyMap[t.isMac?"mac":"pc"]),g=this.representShortcut=function(a){a=f[a];t.isMac&&(a=a.replace("CMD","\u2318").replace("SHIFT","\u21e7"));a=a.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]");return" ("+a+")"};this.initialize=function(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.fontInstalledMap={}};this.destroy=function(){delete this.fontInstalledMap};this.isFontInstalled=function(a){e.fontInstalledMap.hasOwnProperty(a)||
(e.fontInstalledMap[a]=t.isFontInstalled(a)||l.contains(c.fontNamesIgnoreCheck,a));return e.fontInstalledMap[a]};this.addToolbarButtons=function(){a.memo("button.style",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:b.icon(c.icons.magic)+" "+b.icon(c.icons.caret,"span"),tooltip:h.style.style,data:{toggle:"dropdown"}}),b.dropdown({className:"dropdown-style",items:a.options.styleTags,template:function(a){"string"===typeof a&&(a={tag:a,title:a});var b=a.tag;return"<"+
b+(a.style?' style="'+a.style+'" ':"")+(a.className?' className="'+a.className+'"':"")+">"+a.title+"</"+b+">"},click:a.createInvokeHandler("editor.formatBlock")})]).render()});a.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.icon(c.icons.bold),tooltip:h.font.bold+g("bold"),click:a.createInvokeHandler("editor.bold")}).render()});a.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.icon(c.icons.italic),tooltip:h.font.italic+g("italic"),
click:a.createInvokeHandler("editor.italic")}).render()});a.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.icon(c.icons.underline),tooltip:h.font.underline+g("underline"),click:a.createInvokeHandler("editor.underline")}).render()});a.memo("button.clear",function(){return b.button({contents:b.icon(c.icons.eraser),tooltip:h.font.clear+g("removeFormat"),click:a.createInvokeHandler("editor.removeFormat")}).render()});a.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",
contents:b.icon(c.icons.strikethrough),tooltip:h.font.strikethrough+g("strikethrough"),click:a.createInvokeHandler("editor.strikethrough")}).render()});a.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.icon(c.icons.superscript),tooltip:h.font.superscript,click:a.createInvokeHandler("editor.superscript")}).render()});a.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.icon(c.icons.subscript),tooltip:h.font.subscript,
click:a.createInvokeHandler("editor.subscript")}).render()});a.memo("button.fontname",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+b.icon(c.icons.caret,"span"),tooltip:h.font.name,data:{toggle:"dropdown"}}),b.dropdownCheck({className:"dropdown-fontname",checkClassName:c.icons.menuCheck,items:c.fontNames.filter(e.isFontInstalled),template:function(a){return'<span style="font-family:'+a+'">'+a+"</span>"},click:a.createInvokeHandler("editor.fontName")})]).render()});
a.memo("button.fontsize",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+b.icon(c.icons.caret,"span"),tooltip:h.font.size,data:{toggle:"dropdown"}}),b.dropdownCheck({className:"dropdown-fontsize",checkClassName:c.icons.menuCheck,items:c.fontSizes,click:a.createInvokeHandler("editor.fontSize")})]).render()});a.memo("button.color",function(){return b.buttonGroup({className:"note-color",children:[b.button({className:"note-current-color-button",
contents:b.icon(c.icons.font+" note-recent-color"),tooltip:h.color.recent,click:function(b){b=k(b.currentTarget);a.invoke("editor.color",{backColor:b.attr("data-backColor"),foreColor:b.attr("data-foreColor")})},callback:function(a){a.find(".note-recent-color").css("background-color","#FFFF00");a.attr("data-backColor","#FFFF00")}}),b.button({className:"dropdown-toggle",contents:b.icon(c.icons.caret,"span"),tooltip:h.color.more,data:{toggle:"dropdown"}}),b.dropdown({items:['<li><div class="btn-group">',
'  <div class="note-palette-title">'+h.color.background+"</div>",'  <div>    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',h.color.transparent,'    </button>  </div>  <div class="note-holder" data-event="backColor"/></div><div class="btn-group">','  <div class="note-palette-title">'+h.color.foreground+"</div>",'  <div>    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',
h.color.resetToDefault,'    </button>  </div>  <div class="note-holder" data-event="foreColor"/></div></li>'].join(""),callback:function(a){a.find(".note-holder").each(function(){var a=k(this);a.append(b.palette({colors:c.colors,eventName:a.data("event")}).render())})},click:function(b){var c=k(b.target);b=c.data("event");var f=c.data("value");if(b&&f){var d="backColor"===b?"background-color":"color",e=c.closest(".note-color").find(".note-recent-color"),c=c.closest(".note-color").find(".note-current-color-button");
e.css(d,f);c.attr("data-"+b,f);a.invoke("editor."+b,f)}}})]}).render()});a.memo("button.ul",function(){return b.button({contents:b.icon(c.icons.unorderedlist),tooltip:h.lists.unordered+g("insertUnorderedList"),click:a.createInvokeHandler("editor.insertUnorderedList")}).render()});a.memo("button.ol",function(){return b.button({contents:b.icon(c.icons.orderedlist),tooltip:h.lists.ordered+g("insertOrderedList"),click:a.createInvokeHandler("editor.insertOrderedList")}).render()});var f=b.button({contents:b.icon(c.icons.alignLeft),
tooltip:h.paragraph.left+g("justifyLeft"),click:a.createInvokeHandler("editor.justifyLeft")}),d=b.button({contents:b.icon(c.icons.alignCenter),tooltip:h.paragraph.center+g("justifyCenter"),click:a.createInvokeHandler("editor.justifyCenter")}),l=b.button({contents:b.icon(c.icons.alignRight),tooltip:h.paragraph.right+g("justifyRight"),click:a.createInvokeHandler("editor.justifyRight")}),q=b.button({contents:b.icon(c.icons.alignJustify),tooltip:h.paragraph.justify+g("justifyFull"),click:a.createInvokeHandler("editor.justifyFull")}),
r=b.button({contents:b.icon(c.icons.outdent),tooltip:h.paragraph.outdent+g("outdent"),click:a.createInvokeHandler("editor.outdent")}),t=b.button({contents:b.icon(c.icons.indent),tooltip:h.paragraph.indent+g("indent"),click:a.createInvokeHandler("editor.indent")});a.memo("button.justifyLeft",p.invoke(f,"render"));a.memo("button.justifyCenter",p.invoke(d,"render"));a.memo("button.justifyRight",p.invoke(l,"render"));a.memo("button.justifyFull",p.invoke(q,"render"));a.memo("button.outdent",p.invoke(r,
"render"));a.memo("button.indent",p.invoke(t,"render"));a.memo("button.paragraph",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:b.icon(c.icons.alignLeft)+" "+b.icon(c.icons.caret,"span"),tooltip:h.paragraph.paragraph,data:{toggle:"dropdown"}}),b.dropdown([b.buttonGroup({className:"note-align",children:[f,d,l,q]}),b.buttonGroup({className:"note-list",children:[r,t]})])]).render()});a.memo("button.height",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",
contents:b.icon(c.icons.textHeight)+" "+b.icon(c.icons.caret,"span"),tooltip:h.font.height,data:{toggle:"dropdown"}}),b.dropdownCheck({items:c.lineHeights,checkClassName:c.icons.menuCheck,className:"dropdown-line-height",click:a.createInvokeHandler("editor.lineHeight")})]).render()});a.memo("button.table",function(){return b.buttonGroup([b.button({className:"dropdown-toggle",contents:b.icon(c.icons.table)+" "+b.icon(c.icons.caret,"span"),tooltip:h.table.table,data:{toggle:"dropdown"}}),b.dropdown({className:"note-table",
items:'<div class="note-dimension-picker">  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>  <div class="note-dimension-picker-highlighted"/>  <div class="note-dimension-picker-unhighlighted"/></div><div class="note-dimension-display">1 x 1</div>'})],{callback:function(b){b.find(".note-dimension-picker-mousecatcher").css({width:c.insertTableMaxSize.col+"em",height:c.insertTableMaxSize.row+"em"}).mousedown(a.createInvokeHandler("editor.insertTable")).on("mousemove",
e.tableMoveHandler)}}).render()});a.memo("button.link",function(){return b.button({contents:b.icon(c.icons.link),tooltip:h.link.link,click:a.createInvokeHandler("linkDialog.show")}).render()});a.memo("button.picture",function(){return b.button({contents:b.icon(c.icons.picture),tooltip:h.image.image,click:a.createInvokeHandler("imageDialog.show")}).render()});a.memo("button.video",function(){return b.button({contents:b.icon(c.icons.video),tooltip:h.video.video,click:a.createInvokeHandler("videoDialog.show")}).render()});
a.memo("button.hr",function(){return b.button({contents:b.icon(c.icons.minus),tooltip:h.hr.insert+g("insertHorizontalRule"),click:a.createInvokeHandler("editor.insertHorizontalRule")}).render()});a.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.icon(c.icons.arrowsAlt),tooltip:h.options.fullscreen,click:a.createInvokeHandler("fullscreen.toggle")}).render()});a.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.icon(c.icons.code),
tooltip:h.options.codeview,click:a.createInvokeHandler("codeview.toggle")}).render()});a.memo("button.redo",function(){return b.button({contents:b.icon(c.icons.redo),tooltip:h.history.redo+g("redo"),click:a.createInvokeHandler("editor.redo")}).render()});a.memo("button.undo",function(){return b.button({contents:b.icon(c.icons.undo),tooltip:h.history.undo+g("undo"),click:a.createInvokeHandler("editor.undo")}).render()});a.memo("button.help",function(){return b.button({contents:b.icon(c.icons.question),
tooltip:h.options.help,click:a.createInvokeHandler("helpDialog.show")}).render()})};this.addImagePopoverButtons=function(){a.memo("button.imageSize100",function(){return b.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:h.image.resizeFull,click:a.createInvokeHandler("editor.resize","1")}).render()});a.memo("button.imageSize50",function(){return b.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:h.image.resizeHalf,click:a.createInvokeHandler("editor.resize",
"0.5")}).render()});a.memo("button.imageSize25",function(){return b.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:h.image.resizeQuarter,click:a.createInvokeHandler("editor.resize","0.25")}).render()});a.memo("button.floatLeft",function(){return b.button({contents:b.icon(c.icons.alignLeft),tooltip:h.image.floatLeft,click:a.createInvokeHandler("editor.floatMe","left")}).render()});a.memo("button.floatRight",function(){return b.button({contents:b.icon(c.icons.alignRight),tooltip:h.image.floatRight,
click:a.createInvokeHandler("editor.floatMe","right")}).render()});a.memo("button.floatNone",function(){return b.button({contents:b.icon(c.icons.alignJustify),tooltip:h.image.floatNone,click:a.createInvokeHandler("editor.floatMe","none")}).render()});a.memo("button.removeMedia",function(){return b.button({contents:b.icon(c.icons.trash),tooltip:h.image.remove,click:a.createInvokeHandler("editor.removeMedia")}).render()})};this.addLinkPopoverButtons=function(){a.memo("button.linkDialogShow",function(){return b.button({contents:b.icon(c.icons.link),
tooltip:h.link.edit,click:a.createInvokeHandler("linkDialog.show")}).render()});a.memo("button.unlink",function(){return b.button({contents:b.icon(c.icons.unlink),tooltip:h.link.unlink,click:a.createInvokeHandler("editor.unlink")}).render()})};this.build=function(c,f){for(var d=0,e=f.length;d<e;d++){for(var g=f[d],h=g[1],g=b.buttonGroup({className:"note-"+g[0]}).render(),k=0,n=h.length;k<n;k++){var l=a.memo("button."+h[k]);l&&g.append("function"===typeof l?l(a):l)}g.appendTo(c)}};this.updateCurrentStyle=
function(){var b=a.invoke("editor.currentStyle");this.updateBtnStates({".note-btn-bold":function(){return"bold"===b["font-bold"]},".note-btn-italic":function(){return"italic"===b["font-italic"]},".note-btn-underline":function(){return"underline"===b["font-underline"]},".note-btn-subscript":function(){return"subscript"===b["font-subscript"]},".note-btn-superscript":function(){return"superscript"===b["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===b["font-strikethrough"]}});
if(b["font-family"]){var c=b["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),f=l.find(c,e.isFontInstalled);d.find(".dropdown-fontname li a").each(function(){this.className=k(this).data("value")+""===f+""?"checked":""});d.find(".note-current-fontname").text(f)}if(b["font-size"]){var g=b["font-size"];d.find(".dropdown-fontsize li a").each(function(){this.className=k(this).data("value")+""===g+""?"checked":""});d.find(".note-current-fontsize").text(g)}if(b["line-height"]){var h=
b["line-height"];d.find(".dropdown-line-height li a").each(function(){this.className=k(this).data("value")+""===h+""?"checked":""})}};this.updateBtnStates=function(a){k.each(a,function(a,c){b.toggleBtnActive(d.find(a),c())})};this.tableMoveHandler=function(a){var b,f=k(a.target.parentNode),d=f.next(),e=f.find(".note-dimension-picker-mousecatcher"),g=f.find(".note-dimension-picker-highlighted"),f=f.find(".note-dimension-picker-unhighlighted");if(void 0===a.offsetX){var h=k(a.target).offset();b=a.pageX-
h.left;a=a.pageY-h.top}else b=a.offsetX,a=a.offsetY;b=Math.ceil(b/18)||1;a=Math.ceil(a/18)||1;g.css({width:b+"em",height:a+"em"});e.data("value",b+"x"+a);3<b&&b<c.insertTableMaxSize.col&&f.css({width:b+1+"em"});3<a&&a<c.insertTableMaxSize.row&&f.css({height:a+1+"em"});d.html(b+" x "+a)}},toolbar:function(a){var e=k.summernote.ui,b=a.layoutInfo.note,d=a.layoutInfo.toolbar,c=a.options;this.shouldInitialize=function(){return!c.airMode};this.initialize=function(){c.toolbar=c.toolbar||[];c.toolbar.length?
a.invoke("buttons.build",d,c.toolbar):d.hide();c.toolbarContainer&&d.appendTo(c.toolbarContainer);b.on("summernote.keyup summernote.mouseup summernote.change",function(){a.invoke("buttons.updateCurrentStyle")});a.invoke("buttons.updateCurrentStyle")};this.destroy=function(){d.children().remove()};this.updateFullscreen=function(a){e.toggleBtnActive(d.find(".btn-fullscreen"),a)};this.updateCodeview=function(a){e.toggleBtnActive(d.find(".btn-codeview"),a);a?this.deactivate():this.activate()};this.activate=
function(a){var b=d.find("button");a||(b=b.not(".btn-codeview"));e.toggleBtn(b,!0)};this.deactivate=function(a){var b=d.find("button");a||(b=b.not(".btn-codeview"));e.toggleBtn(b,!1)}},linkDialog:function(a){var e=this,b=k.summernote.ui,d=a.layoutInfo.editor,c=a.options,g=c.langInfo;this.initialize=function(){var a=c.dialogsInBody?k(document.body):d;this.$dialog=b.dialog({className:"link-dialog",title:g.link.insert,fade:c.dialogsFade,body:'<div class="form-group"><label>'+g.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+
g.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(c.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+g.link.openInNewWindow+"</label></div>"),footer:'<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+g.link.insert+"</button>"}).render().appendTo(a)};this.destroy=function(){b.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===
v.code.ENTER&&b.trigger("click")})};this.showLinkDialog=function(c){return k.Deferred(function(d){var g=e.$dialog.find(".note-link-text"),h=e.$dialog.find(".note-link-url"),k=e.$dialog.find(".note-link-btn"),l=e.$dialog.find("input[type=checkbox]");b.onDialogShown(e.$dialog,function(){a.triggerEvent("dialog.shown");g.val(c.text);g.on("input",function(){b.toggleBtn(k,g.val()&&h.val());c.text=g.val()});c.url||(c.url=c.text||"http://",b.toggleBtn(k,c.text));h.on("input",function(){b.toggleBtn(k,g.val()&&
h.val());c.text||g.val(h.val())}).val(c.url).trigger("focus");e.bindEnterKey(h,k);e.bindEnterKey(g,k);l.prop("checked",c.isNewWindow);k.one("click",function(a){a.preventDefault();d.resolve({range:c.range,url:h.val(),text:g.val(),isNewWindow:l.is(":checked")});e.$dialog.modal("hide")})});b.onDialogHidden(e.$dialog,function(){g.off("input keypress");h.off("input keypress");k.off("click");"pending"===d.state()&&d.reject()});b.showDialog(e.$dialog)}).promise()};this.show=function(){var b=a.invoke("editor.getLinkInfo");
a.invoke("editor.saveRange");this.showLinkDialog(b).then(function(b){a.invoke("editor.restoreRange");a.invoke("editor.createLink",b)}).fail(function(){a.invoke("editor.restoreRange")})};a.memo("help.linkDialog.show",c.langInfo.help["linkDialog.show"])},linkPopover:function(a){var e=this,b=k.summernote.ui,d=a.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.dialog.shown":function(){e.hide()}};this.shouldInitialize=function(){return!l.isEmpty(d.popover.link)};
this.initialize=function(){this.$popover=b.popover({className:"note-link-popover",callback:function(a){a.find(".popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var c=this.$popover.find(".popover-content");a.invoke("buttons.build",c,d.popover.link)};this.destroy=function(){this.$popover.remove()};this.update=function(){if(a.invoke("editor.hasFocus")){var b=a.invoke("editor.createRange");if(b.isCollapsed()&&b.isOnAnchor()){var b=g.ancestor(b.sc,g.isAnchor),
d=k(b).attr("href");this.$popover.find("a").attr("href",d).html(d);b=g.posFromPlaceholder(b);this.$popover.css({display:"block",left:b.left,top:b.top})}else this.hide()}else this.hide()};this.hide=function(){this.$popover.hide()}},imageDialog:function(a){var e=this,b=k.summernote.ui,d=a.layoutInfo.editor,c=a.options,g=c.langInfo;this.initialize=function(){var a=c.dialogsInBody?k(document.body):d,e="";c.maximumImageFileSize&&(e=Math.floor(Math.log(c.maximumImageFileSize)/Math.log(1024)),e=1*(c.maximumImageFileSize/
Math.pow(1024,e)).toFixed(2)+" "+" KMGTP"[e]+"B",e="<small>"+g.image.maximumFileSize+" : "+e+"</small>");this.$dialog=b.dialog({title:g.image.insert,fade:c.dialogsFade,body:'<div class="form-group note-group-select-from-files"><label>'+g.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+e+'</div><div class="form-group" style="overflow:auto;"><label>'+g.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',
footer:'<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+g.image.insert+"</button>"}).render().appendTo(a)};this.destroy=function(){b.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===v.code.ENTER&&b.trigger("click")})};this.show=function(){a.invoke("editor.saveRange");this.showImageDialog().then(function(c){b.hideDialog(e.$dialog);a.invoke("editor.restoreRange");"string"===typeof c?a.invoke("editor.insertImage",
c):a.invoke("editor.insertImagesOrCallback",c)}).fail(function(){a.invoke("editor.restoreRange")})};this.showImageDialog=function(){return k.Deferred(function(c){var d=e.$dialog.find(".note-image-input"),g=e.$dialog.find(".note-image-url"),h=e.$dialog.find(".note-image-btn");b.onDialogShown(e.$dialog,function(){a.triggerEvent("dialog.shown");d.replaceWith(d.clone().on("change",function(){c.resolve(this.files||this.value)}).val(""));h.click(function(a){a.preventDefault();c.resolve(g.val())});g.on("keyup paste",
function(){var a=g.val();b.toggleBtn(h,a)}).val("").trigger("focus");e.bindEnterKey(g,h)});b.onDialogHidden(e.$dialog,function(){d.off("change");g.off("keyup paste keypress");h.off("click");"pending"===c.state()&&c.reject()});b.showDialog(e.$dialog)})}},imagePopover:function(a){var e=k.summernote.ui,b=a.options;this.shouldInitialize=function(){return!l.isEmpty(b.popover.image)};this.initialize=function(){this.$popover=e.popover({className:"note-image-popover"}).render().appendTo("body");var d=this.$popover.find(".popover-content");
a.invoke("buttons.build",d,b.popover.image)};this.destroy=function(){this.$popover.remove()};this.update=function(a){g.isImg(a)?(a=g.posFromPlaceholder(a),this.$popover.css({display:"block",left:a.left,top:a.top})):this.hide()};this.hide=function(){this.$popover.hide()}},videoDialog:function(a){var e=this,b=k.summernote.ui,d=a.layoutInfo.editor,c=a.options,g=c.langInfo;this.initialize=function(){var a=c.dialogsInBody?k(document.body):d;this.$dialog=b.dialog({title:g.video.insert,fade:c.dialogsFade,
body:'<div class="form-group row-fluid"><label>'+g.video.url+' <small class="text-muted">'+g.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',footer:'<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+g.video.insert+"</button>"}).render().appendTo(a)};this.destroy=function(){b.hideDialog(this.$dialog);this.$dialog.remove()};this.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===v.code.ENTER&&b.trigger("click")})};
this.createVideoNode=function(a){var b=a.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),c=a.match(/\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/),d=a.match(/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/),e=a.match(/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),g=a.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),h=a.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),l=a.match(/^.+.(mp4|m4v)$/),p=a.match(/^.+.(ogg|ogv)$/),
q=a.match(/^.+.(webm)$/);if(b&&11===b[1].length)a=b[1],a=k("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+a).attr("width","640").attr("height","360");else if(c&&c[0].length)a=k("<iframe>").attr("frameborder",0).attr("src",c[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(d&&d[0].length)a=k("<iframe>").attr("frameborder",0).attr("src",d[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class",
"vine-embed");else if(e&&e[3].length)a=k("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+e[3]).attr("width","640").attr("height","360");else if(g&&g[2].length)a=k("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+g[2]).attr("width","640").attr("height","360");else if(h&&h[1].length)a=k("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height",
"498").attr("width","510").attr("src","//player.youku.com/embed/"+h[1]);else if(l||p||q)a=k("<video controls>").attr("src",a).attr("width","640").attr("height","360");else return!1;a.addClass("note-video-clip");return a[0]};this.show=function(){var c=a.invoke("editor.getSelectedText");a.invoke("editor.saveRange");this.showVideoDialog(c).then(function(c){b.hideDialog(e.$dialog);a.invoke("editor.restoreRange");(c=e.createVideoNode(c))&&a.invoke("editor.insertNode",c)}).fail(function(){a.invoke("editor.restoreRange")})};
this.showVideoDialog=function(c){return k.Deferred(function(d){var g=e.$dialog.find(".note-video-url"),h=e.$dialog.find(".note-video-btn");b.onDialogShown(e.$dialog,function(){a.triggerEvent("dialog.shown");g.val(c).on("input",function(){b.toggleBtn(h,g.val())}).trigger("focus");h.click(function(a){a.preventDefault();d.resolve(g.val())});e.bindEnterKey(g,h)});b.onDialogHidden(e.$dialog,function(){g.off("input");h.off("click");"pending"===d.state()&&d.reject()});b.showDialog(e.$dialog)})}},helpDialog:function(a){var e=
this,b=k.summernote.ui,d=a.layoutInfo.editor,c=a.options,g=c.langInfo;this.createShortCutList=function(){var b=c.keyMap[t.isMac?"mac":"pc"];return Object.keys(b).map(function(c){var d=b[c],e=k('<div><div class="help-list-item"/></div>');e.append(k("<label><kbd>"+c+"</kdb></label>").css({width:180,"margin-right":10})).append(k("<span/>").html(a.memo("help."+d)||d));return e.html()}).join("")};this.initialize=function(){var a=c.dialogsInBody?k(document.body):d;this.$dialog=b.dialog({title:g.options.help,
fade:c.dialogsFade,body:this.createShortCutList(),footer:'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.8.1</a> \u00b7 <a href="//github.com/summernote/summernote" target="_blank">Project</a> \u00b7 <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>',callback:function(a){a.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)};this.destroy=function(){b.hideDialog(this.$dialog);this.$dialog.remove()};
this.showHelpDialog=function(){return k.Deferred(function(c){b.onDialogShown(e.$dialog,function(){a.triggerEvent("dialog.shown");c.resolve()});b.showDialog(e.$dialog)}).promise()};this.show=function(){a.invoke("editor.saveRange");this.showHelpDialog().then(function(){a.invoke("editor.restoreRange")})}},airPopover:function(a){var e=this,b=k.summernote.ui,d=a.options;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){e.update()},"summernote.change summernote.dialog.shown":function(){e.hide()},
"summernote.focusout":function(a,b){t.isFF||b.relatedTarget&&g.ancestor(b.relatedTarget,p.eq(e.$popover[0]))||e.hide()}};this.shouldInitialize=function(){return d.airMode&&!l.isEmpty(d.popover.air)};this.initialize=function(){this.$popover=b.popover({className:"note-air-popover"}).render().appendTo("body");var c=this.$popover.find(".popover-content");a.invoke("buttons.build",c,d.popover.air)};this.destroy=function(){this.$popover.remove()};this.update=function(){var b=a.invoke("editor.currentStyle");
if(b.range&&!b.range.isCollapsed()){if(b=l.last(b.range.getClientRects()))b=p.rect2bnd(b),this.$popover.css({display:"block",left:Math.max(b.left+b.width/2,0)-20,top:b.top+b.height})}else this.hide()};this.hide=function(){this.$popover.hide()}}},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview",
"help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:"p blockquote pre h1 h2 h3 h4 h5 h6".split(" "),
fontNames:"Arial;Arial Black;Comic Sans MS;Courier New;Helvetica Neue;Helvetica;Impact;Lucida Grande;Tahoma;Times New Roman;Verdana".split(";"),fontSizes:"8 9 10 11 12 14 18 24 36".split(" "),colors:["#000000 #424242 #636363 #9C9C94 #CEC6CE #EFEFEF #F7F7F7 #FFFFFF".split(" "),"#FF0000 #FF9C00 #FFFF00 #00FF00 #00FFFF #0000FF #9C00FF #FF00FF".split(" "),"#F7C6CE #FFE7CE #FFEFC6 #D6EFD6 #CEDEE7 #CEE7F7 #D6D6E7 #E7D6DE".split(" "),"#E79C9C #FFC69C #FFE79C #B5D6A5 #A5C6CE #9CC6EF #B5A5D6 #D6A5BD".split(" "),
"#E76363 #F7AD6B #FFD663 #94BD7B #73A5AD #6BADDE #8C7BC6 #C67BA5".split(" "),"#CE0000 #E79439 #EFC631 #6BA54A #4A7B8C #3984C6 #634AA5 #A54A7B".split(" "),"#9C0000 #B56308 #BD9400 #397B21 #104A5A #085294 #311873 #731842".split(" "),"#630000 #7B3900 #846300 #295218 #083139 #003163 #21104A #4A1031".split(" ")],lineHeights:"1.0 1.2 1.4 1.5 1.6 1.8 2.0 3.0".split(" "),tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,
onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull",
"CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline",
"CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},
icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",
unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",
unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})});