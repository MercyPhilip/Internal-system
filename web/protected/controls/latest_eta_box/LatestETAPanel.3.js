var LatestETAPanel=new Class.create;
LatestETAPanel.prototype={_pageObj:null,initialize:function(b){this._pageObj=b},resultDiv:"",callBackId:"",pagination:{pageNo:1,pageSize:10},setPagination:function(b,a){var c,d;c=b&&!isNaN(b)?b:this.pagination.pageNo;d=a&&!isNaN(a)?a:this.pagination.pageSize;this.pagination.pageNo=c;this.pagination.pageSize=d;return this},_generateResultRow:function(b,a){var c;c=!0===a?!0:!1;return!0===c?"":(new Element("a",{title:"click to view the details",href:"javascript: void(0);","class":"list-group-item",order_item_id:!0===
c?"undefined":b.id})).insert({bottom:(new Element("strong",{"class":"list-group-item-heading product_name",title:"SKU: "+b.sku})).update(b.productName)}).insert({bottom:(new Element("p",{"class":"list-group-item-text order_no"})).update(b.orderNo)}).insert({bottom:(new Element("em",{"class":"list-group-item-text eta"})).update(b.eta)}).observe("click",function(){jQuery.fancybox({width:"95%",height:"95%",autoScale:!0,type:"iframe",href:"/orderdetails/"+b.orderId+".html"})})},loadLatestETA:function(b){var a,
c,d,e,f;a=this;c=b||!0;a._pageObj.postAjax(a.callBackId,{pagination:a.pagination},{onCreate:function(){},onComplete:function(b,g){try{if(d=a._pageObj.getResp(g,!1,!0)){if(!0===c){if(0===d.items.length&&$(a.resultDiv)){$(a.resultDiv).update("No ETA found!");return}e={id:"",sku:"SKU",productName:"Name",eta:"ETA",orderNo:"Order No"};f=a._generateResultRow(e,!0);$(a.resultDiv).insert({bottom:f})}d.items.each(function(b){$(a.resultDiv).insert({bottom:a._generateResultRow(b)})});d.totalPages>d.pageNumber&&
$(a.resultDiv).insert({bottom:(new Element("span",{})).update("Show More").observe("click",function(){a.pagination.pageNo=1*a.pagination.pageNo+1;a.loadLatestETA(!1)})})}}catch(h){alert(h)}}})}};