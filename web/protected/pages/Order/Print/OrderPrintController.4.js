var PageJs=new Class.create;
PageJs.prototype=Object.extend(new BPCPageJs,{_maxRowsPerPage:8,genPage:function(d,b,a,c){var e,g,f;b=d.clone(!0);a=b.down("thead").clone(!0);b.down("thead").remove();d=b.down("tfoot").clone(!0);b.down("tfoot").remove();d=(new Element("div",{"class":"print-page-wrap",style:"margin: 20px 0;"})).update(b).insert({bottom:(new Element("div",{"class":"print-page-footer"})).update(d.down("tr").wrap(new Element("table",{"class":"orderview"})))});e=b.down("tbody").update(a.down("tr.header").clone(!0));a.down("tr.header").remove();
d.insert({top:(new Element("div",{"class":"print-page-header"})).update((new Element("table",{"class":"orderview"})).update(a.innerHTML))});c.each(function(a){e.insert({bottom:a})});b=c[0].getElementsBySelector("td").size();if(c.size()<this._maxRowsPerPage)for(a=0;a<1*this._maxRowsPerPage-c.size();a=1*a+1){g=c[0].clone(!0).update("");for(f=0;f<b;f=1*f+1)g.insert({bottom:(new Element("td")).update("&nbsp;")});e.insert({bottom:g})}return d},formatForPDF:function(){var d,b,a,c,e,g,f,h;d=this;b=$("main-table").clone(!0);
a=[];c=[];e=0;b.down("#tbody").getElementsBySelector("tr").each(function(b){e>=d._maxRowsPerPage&&(a.push(c.clone(!0)),c=[],e=0);b.down(".sku").innerHTML.blank()||(c.push(b),e=1*e+1)});0<c.size()&&a.push(c);g=$("main-table").up().update("");f=1;h=a.size();a.each(function(a){g.insert({bottom:d.genPage(b,f++,h,a)})});return d}});